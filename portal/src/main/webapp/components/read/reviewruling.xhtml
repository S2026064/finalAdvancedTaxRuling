<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
    <ui:component>

        <b:panel look="default" collapsible="false">
            <b:panelGrid colSpans="12" styleClass="ui-fluid">
                <p:outputPanel id="review">
                    <p:separator rendered="true"/>  

                    <b:panel look="primary" title="List of documents" collapsible="false">
                        <b:panelGrid colSpans="2,3,3,2,2" size="lg" styleClass="ui-fluid">
                            <p:outputLabel value="Date"/>
                            <p:outputLabel value="Description"/>
                            <p:outputLabel value="Document Type"/>
                            <p:outputLabel value="Size"/>
                            <p:outputLabel value="Action"/>
                        </b:panelGrid>                    
                        <p:separator/>
                        <ui:repeat value="#{sharedBean.entity.supportingDocuments}" var="document" varStatus="documentVarStatus">
                            <b:panelGrid colSpans="2,3,3,2,2" size="lg" styleClass="ui-fluid" rendered="#{document.documentType ne 'FEEDBACK'}">
                                <b:formGroup>
                                    <h:outputText value="#{document.createdDate}" styleClass="customCSS">
                                        <f:convertDateTime   pattern="dd MMMM yyyy"/>
                                    </h:outputText>
                                </b:formGroup>
                                <b:formGroup>
                                    <h:outputText value="#{document.description}" styleClass="customCSS"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <h:outputText value="#{document.documentType.toString()}" styleClass="customCSS"/> 
                                </b:formGroup>
                                <b:formGroup>
                                    <h:outputText value="#{document.documentSize}" styleClass="customCSS"/>
                                </b:formGroup>
                                <b:formGroup>
                                    <b:panelGrid colSpans="12" size="lg" styleClass="ui-fluid">
                                        <p:commandButton    styleClass="btn-size-sm"  value="Download" actionListener="#{sharedBean.fileDownload(document)}"  ajax="false" immediate="true"  update="@form">
                                            <p:fileDownload  value="#{sharedBean.downloadFile}"/>
                                        </p:commandButton>
                                    </b:panelGrid>
                                </b:formGroup>
                            </b:panelGrid>
                            <p:separator rendered="#{document.documentType ne 'FEEDBACK'}"/> 
                        </ui:repeat>
                    </b:panel>
                </p:outputPanel>
            </b:panelGrid>
            
            
        </b:panel>
    </ui:component>
</html>
